(()=>{const t=document.getElementById("Rate"),e=document.getElementById("Tips");async function n(t,e){const n=await fetch("http://localhost:3001/tips",{method:"POST",headers:{accept:"*/*","content-type":"application/json"},body:JSON.stringify({status:t,compliance:e})});return await n.text()}fetch("http://localhost:3001/recap").then((t=>t.json())).then((l=>async function(l){t.innerHTML="",e.innerHTML="";let o={totalPending:0,totalComplete:0,completionRate:0},a={totalPending:0,totalLate:0,totalOnTime:0,onTimeRate:0};for(var i in l.weekly.status)o.totalPending+=l.weekly.status[i].Pending,o.totalComplete+=l.weekly.status[i].Complete,o.completionRate=o.totalComplete/(o.totalPending+o.totalComplete)*100,a.totalPending+=l.weekly.compliance[i].Pending,a.totalLate+=l.weekly.compliance[i].Late,a.totalOnTime+=l.weekly.compliance[i]["On Time"],a.onTimeRate=a.totalOnTime/(a.totalPending+a.totalLate+a.totalOnTime)*100;let m={totalPending:0,totalComplete:0,completionRate:0},c={totalPending:0,totalLate:0,totalOnTime:0,onTimeRate:0};for(var p in l.monthly.status)m.totalPending+=l.monthly.status[p].Pending,m.totalComplete+=l.monthly.status[p].Complete,m.completionRate=m.totalComplete/(m.totalPending+m.totalComplete)*100,c.totalPending+=l.monthly.compliance[p].Pending,c.totalLate+=l.monthly.compliance[p].Late,c.totalOnTime+=l.monthly.compliance[p]["On Time"],c.onTimeRate=c.totalOnTime/(c.totalPending+c.totalLate+c.totalOnTime)*100;t.innerHTML+=`\n        <ul style="list-style: none">\n            <li>Total All Week Completion Rate : ${o.completionRate}%</li>\n            <li>Total All Week Compliance Rate : ${a.onTimeRate}%</li>\n            <li></li>\n            <li>Total All Month Completion Rate : ${m.completionRate}%</li>\n            <li>Total All Month Compliance Rate : ${c.onTimeRate}%</li>\n        </ul>`,e.innerHTML+=`\n        <ul style="list-style: none">\n            <li><b>Week Tips : ${await n(o.completionRate,a.onTimeRate)}</b></li>\n            <li><b>Month Tips : ${await n(m.completionRate,c.onTimeRate)}</b></li>\n        </ul>`}(l)))})();